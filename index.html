<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø©</title>
    <style>
        body { margin: 0; background-color: #121212; color: white; font-family: sans-serif; }
        .header { background: #a00; padding: 15px; text-align: center; font-weight: bold; font-size: 18px; position: sticky; top:0; z-index: 10; }
        
        .container { padding: 10px; max-width: 600px; margin: 0 auto; }
        
        .match-card {
            background: #1e1e1e; border-radius: 12px; padding: 15px; margin-bottom: 12px;
            border: 1px solid #333; position: relative;
        }
        
        /* Ø§Ù„ÙØ±Ù‚ ÙˆØ§Ù„Ù†ØªÙŠØ¬Ø© */
        .teams-area { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .team { width: 35%; text-align: center; }
        .team img { width: 45px; height: 45px; object-fit: contain; display: block; margin: 0 auto 5px; }
        .team span { font-size: 12px; font-weight: bold; display: block; }
        .vs-area { font-size: 18px; font-weight: bold; color: #888; }
        
        /* Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø³ÙÙ„ÙŠØ© */
        .info-area { display: flex; justify-content: space-between; align-items: center; border-top: 1px solid #333; padding-top: 10px; }
        .ch-name { color: #fc0; font-size: 12px; display: flex; align-items: center; }
        
        /* Ø²Ø± Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø© */
        .watch-btn {
            background: #a00; color: white; padding: 6px 15px; border-radius: 20px; 
            text-decoration: none; font-size: 12px; font-weight: bold; cursor: pointer; border: none;
        }
        .watch-btn.disabled { background: #444; color: #aaa; pointer-events: none; }
        
        /* Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø¨Ø§Ø´Ø± */
        .live-badge { 
            position: absolute; top: 10px; right: 10px; background: red; color: white; 
            font-size: 10px; padding: 2px 8px; border-radius: 4px; animation: blink 1s infinite;
        }
        @keyframes blink { 50% { opacity: 0.5; } }

        #loading { text-align: center; margin-top: 50px; color: #888; }
    </style>
</head>
<body>

    <div class="header">âš½ Ø¬Ø¯ÙˆÙ„ Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ…</div>
    
    <div id="loading">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª...</div>
    <div class="container" id="matches-box"></div>

    <script>
        fetch('channels.json')
            .then(res => res.json())
            .then(data => {
                document.getElementById('loading').style.display = 'none';
                const box = document.getElementById('matches-box');
                
                if(data.matches.length === 0) {
                    box.innerHTML = '<div style="text-align:center;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ø­Ø§Ù„ÙŠØ§Ù‹</div>';
                    return;
                }

                data.matches.forEach(m => {
                    // Ù‡Ù„ Ø§Ù„Ø±Ø§Ø¨Ø· Ù…ØªÙˆÙØ±ØŸ
                    const hasLink = m.stream_url && m.stream_url.length > 5;
                    const btnText = hasLink ? "â–¶ Ø´Ø§Ù‡Ø¯ Ø§Ù„Ø¢Ù†" : "Ø§Ù„Ø±Ø§Ø¨Ø· ØºÙŠØ± Ù…ØªÙˆÙØ±";
                    const btnClass = hasLink ? "" : "disabled";
                    
                    // Ù‡Ù„ Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø© Ù…Ø¨Ø§Ø´Ø±Ø©ØŸ
                    const liveHtml = m.status === 'live' ? '<div class="live-badge">Ù…Ø¨Ø§Ø´Ø± ğŸ”´</div>' : '';

                    const div = document.createElement('div');
                    div.className = 'match-card';
                    div.innerHTML = `
                        ${liveHtml}
                        <div class="teams-area">
                            <div class="team">
                                <img src="${m.logo_a}" onerror="this.src='https://via.placeholder.com/50'">
                                <span>${m.team_a}</span>
                            </div>
                            <div class="vs-area">${m.time}</div>
                            <div class="team">
                                <img src="${m.logo_b}" onerror="this.src='https://via.placeholder.com/50'">
                                <span>${m.team_b}</span>
                            </div>
                        </div>
                        <div class="info-area">
                            <div class="ch-name">ğŸ“º ${m.channel}</div>
                            <button class="watch-btn ${btnClass}" onclick="playMatch('${m.stream_url}')">
                                ${btnText}
                            </button>
                        </div>
                    `;
                    box.appendChild(div);
                });
            })
            .catch(err => document.getElementById('loading').innerText = "Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„");

        function playMatch(url) {
            // ÙØªØ­ Ø§Ù„Ø±Ø§Ø¨Ø· Ù„ÙŠØªÙ… Ø§Ù„ØªÙ‚Ø§Ø·Ù‡ Ø¨ÙˆØ§Ø³Ø·Ø© Ù…Ø´ØºÙ„ Ø§Ù„Ù‡Ø§ØªÙ
            window.location.href = url;
        }
    </script>
</body>
</html>
